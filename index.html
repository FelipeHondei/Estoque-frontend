<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Estoque Hondei</title>
  <link rel="stylesheet" href="styles.css" />
</head>

<body>
  <header>
  <div class="branding">
    <span class="logo" aria-hidden="true">üõí</span>
    <h1>Estoque Hondei</h1>
  </div>
  
  <div class="header-actions">
    <button id="openCreateModal" class="button primary">
      <span class="desktop-text">Novo produto</span>
    </button>
    <button id="openSaleModal" class="button success">
      <span class="desktop-text">Nova venda</span>
    </button>
  </div>
</header>
  

  <div class="layout">
    <nav class="sidebar closed">
      <button class="nav-link active" data-section="estoque">
        <span>üì¶</span>
        Estoque
      </button>
      <button class="nav-link" data-section="resumo">
        <span>üìä</span>
        Resumo de Vendas
      </button>
    </nav>
    
    <button id="sidebarToggle" class="sidebar-toggle" aria-label="Abrir menu" type="button">
      ‚â°
    </button>
    
    <main class="main-content">
      <section id="estoque-section" class="section active">
        <div class="section-header">
          <div class="toolbar">
            <h2>Produtos</h2>
            <div class="search-container">
              <input type="text" id="searchInput" class="search-input" 
                     placeholder="Pesquisar produtos por nome ou SKU..."
                     autocomplete="off" />
              <button class="search-clear" id="searchClear" title="Limpar pesquisa">√ó</button>
            </div>
          </div>

          <div class="search-results-info" id="searchResultsInfo" style="display: none;"></div>
        </div>

        <section class="products-grid" id="products"></section>
      </section>

      <section id="resumo-section" class="section">
        <div class="section-header">
          <div class="toolbar">
            <h2>Resumo de Vendas</h2>
          </div>
        </div>

        <section class="sales-section">
          <div class="sales-summary" id="salesSummary">
            <div class="summary-card">
              <h3>Resumo Financeiro (30 dias)</h3>
              <div class="summary-grid">
                <div class="summary-item">
                  <span class="label">Total em Vendas</span>
                  <span class="value success" id="totalSales">R$ 0,00</span>
                </div>
                <div class="summary-item">
                  <span class="label">Total em Custos</span>
                  <span class="value danger" id="totalCosts">R$ 0,00</span>
                </div>
                <div class="summary-item">
                  <span class="label">Lucro L√≠quido</span>
                  <span class="value primary" id="totalProfit">R$ 0,00</span>
                </div>
                <div class="summary-item">
                  <span class="label">Vendas Realizadas</span>
                  <span class="value" id="totalSalesCount">0</span>
                </div>
              </div>
            </div>
          </div>
          <div class="sales-list" id="salesList"></div>
        </section>
      </section>
    </main>
  </div>

  <footer>
    <small>Estoque Hondei ‚Ä¢ Controle de estoque e vendas</small>
  </footer>

  <!-- Modal: Novo Produto -->
  <div id="createModal" class="modal hidden">
    <div class="modal-overlay" id="modalOverlay"></div>
    <div class="modal-content" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <button class="modal-close" id="closeCreateModal" aria-label="Fechar">√ó</button>
      <h3 id="modalTitle">Cadastrar novo produto</h3>
      
      <form id="createForm">
        <input type="hidden" id="editingId" name="editing_id" />
        <div class="form-grid">
          <div class="form-field">
            <label for="name">Nome do produto *</label>
            <input name="name" required placeholder="Ex: Smartphone Samsung Galaxy" />
          </div>
          <div class="form-field">
            <label for="sku">SKU *</label>
            <input name="sku" required placeholder="Ex: SM-GAL-001" />
          </div>
          <div class="form-field">
            <label for="price">Pre√ßo de custo *</label>
            <input name="price" type="number" step="0.01" placeholder="0,00" required />
          </div>
          <div class="form-field">
            <label for="sale_price">Pre√ßo de venda *</label>
            <input name="sale_price" type="number" step="0.01" placeholder="0,00" required />
          </div>
          <div class="form-field">
            <label for="min_quantity">Quantidade m√≠nima *</label>
            <input name="min_quantity" type="number" placeholder="0" required />
          </div>
          <div class="form-field">
            <label for="initial_quantity">Estoque inicial *</label>
            <input name="initial_quantity" type="number" placeholder="0" required />
          </div>
          <div class="form-field">
            <label for="purchase_date">Data de compra</label>
            <input name="purchase_date" type="date" />
          </div>
          <div class="form-field">
            <label for="expiry_date">Data de vencimento</label>
            <input name="expiry_date" type="date" />
          </div>
        </div>
        
        <div class="modal-actions">
          <button type="button" class="button" id="cancelCreate">Cancelar</button>
          <button type="submit" class="button primary" id="saveButton">Salvar</button>
        </div>
      </form>
    </div>
  </div>

  <!-- Modal: Nova Venda -->
  <div id="saleModal" class="modal hidden">
    <div class="modal-overlay" id="saleModalOverlay"></div>
    <div class="modal-content large" role="dialog" aria-modal="true" aria-labelledby="saleModalTitle">
      <button class="modal-close" id="closeSaleModal" aria-label="Fechar">√ó</button>
      <h3 id="saleModalTitle">Nova Venda</h3>
      
      <form id="saleForm">
        <div class="sale-header">
          <div class="form-row">
            <div class="form-group">
              <label>Nome do Cliente *</label>
              <input name="customer_name" required placeholder="Digite o nome do cliente" />
            </div>
            <div class="form-group">
              <label>Forma de Pagamento *</label>
              <select name="payment_method" required>
                <option value="">Selecione uma forma de pagamento</option>
                <option value="dinheiro">üíµ Dinheiro</option>
                <option value="cart√£o">üí≥ Cart√£o</option>
                <option value="pix">üì± PIX</option>
                <option value="transfer√™ncia">üè¶ Transfer√™ncia</option>
              </select>
            </div>
          </div>
          <div class="form-group full-width">
            <label>Observa√ß√µes</label>
            <textarea name="notes" placeholder="Observa√ß√µes sobre a venda (opcional)..." rows="3"></textarea>
          </div>
        </div>

        <div class="sale-items">
          <div class="sale-items-header">
            <h4>Itens da Venda</h4>
            <button type="button" class="button" id="addSaleItem">
              ‚ûï Adicionar Item
            </button>
          </div>
          
          <div id="saleItemsList" class="sale-items-container">
            <div class="empty-sale-items">
              <p>üì¶ Nenhum item adicionado ainda</p>
              <small>Clique em "Adicionar Item" para come√ßar</small>
            </div>
          </div>
        </div>

        <div class="sale-summary">
          <div class="sale-total">
            <div class="total-row">
              <span>Total da Venda:</span>
              <span id="saleTotal" class="total-value">R$ 0,00</span>
            </div>
          </div>
        </div>

        <div class="modal-actions">
          <button type="button" class="button" id="cancelSale">Cancelar</button>
          <button type="submit" class="button success">
            ‚úÖ Finalizar Venda
          </button>
        </div>
      </form>
    </div>
  </div>

  <script src="config.js"></script>
  <script src="app.js"></script>
</body>

</html>